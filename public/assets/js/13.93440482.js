(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{523:function(s,a,e){"use strict";e.r(a);var t=e(6),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"ssh无密码登录节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh无密码登录节点"}},[s._v("#")]),s._v(" SSH无密码登录节点")]),s._v(" "),e("p",[s._v("必须要让Master节点可以SSH无密码登录到各个Slave节点上。首先，生成Master节点的公匙，如果之前已经生成过公钥，必须要删除原来生成的公钥，重新生成一次，因为前面我们对主机名进行了修改。具体命令如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.ssh              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果没有该目录，先执行一次ssh localhostrm ./id_rsa*           # 删除之前生成的公匙（如果已经存在）ssh-keygen -t rsa       # 执行该命令后，遇到提示信息，一直按回车就可以")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Shell 命令")]),s._v(" "),e("p",[s._v("为了让Master节点能够无密码SSH登录本机，需要在Master节点上执行如下命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./id_rsa.pub "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ./authorized_keys\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Shell 命令")]),s._v(" "),e("p",[s._v("完成后可以执行命令“ssh Master”来验证一下，可能会遇到提示信息，只要输入yes即可，测试成功后，请执行“exit”命令返回原来的终端。\n接下来，在Master节点将上公匙传输到Slave1节点：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" ~/.ssh/id_rsa.pub hadoop@Slave1:/home/hadoop/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Shell 命令")]),s._v(" "),e("p",[s._v("上面的命令中，scp是secure copy的简写，用于在 Linux下进行远程拷贝文件，类似于cp命令，不过，cp只能在本机中拷贝。执行scp时会要求输入Slave1上hadoop用户的密码，输入完成后会提示传输完毕，如下图所示。\n"),e("img",{attrs:{src:"http://dblab.xmu.edu.cn/blog/wp-content/uploads/2020/07/hadoop-distributed-install04.png",alt:"img"}})]),s._v(" "),e("p",[s._v("接着在Slave1节点上，将SSH公匙加入授权：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/.ssh       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果不存在该文件夹需先创建，若已存在，则忽略本命令cat ~/id_rsa.pub >> ~/.ssh/authorized_keysrm ~/id_rsa.pub    # 用完以后就可以删掉")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Shell 命令")]),s._v(" "),e("p",[s._v("如果有其他Slave节点，也要执行将Master公匙传输到Slave节点以及在Slave节点上加入授权这两步操作。\n这样，在Master节点上就可以无密码SSH登录到各个Slave节点了，可在Master节点上执行如下命令进行检验：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" Slave1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Shell 命令")]),s._v(" "),e("p",[s._v("执行该命令的效果如下图所示。\n"),e("img",{attrs:{src:"http://dblab.xmu.edu.cn/blog/wp-content/uploads/2020/07/hadoop-distributed-install05.png",alt:"img"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);